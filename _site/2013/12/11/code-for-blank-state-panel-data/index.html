<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.5.1 by Michael Rose
  Copyright 2017 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE.txt
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin SEO -->









<title>Code for blank state panel data - MI Regression</title>




<meta name="description" content="The short version:">




<meta name="author" content="Andreas Beger">

<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="MI Regression">
<meta property="og:title" content="Code for blank state panel data">


  <link rel="canonical" href="http://localhost:4000/2013/12/11/code-for-blank-state-panel-data/">
  <meta property="og:url" content="http://localhost:4000/2013/12/11/code-for-blank-state-panel-data/">



  <meta property="og:description" content="The short version:">





  

  





  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2013-12-11T06:26:20+02:00">








  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "Person",
      "name" : "Andreas Beger",
      "url" : "http://localhost:4000",
      "sameAs" : ["https://twitter.com/andybeega","https://www.linkedin.com/in/andreas-beger-67728a36","https://plus.google.com/111153267456095139645","https://scholar.google.com/citations?user=0QX5DXoAAAAJ"]
    }
  </script>



  <meta name="google-site-verification" content="cuymuwKhb4ZRPa4fX0BANEZvI3px-I4kRwScJhVEV1I" />




<!-- end SEO -->


<link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="MI Regression Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/main.css">

<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->

<meta http-equiv="cleartype" content="on">

<!-- MathJax support (took out async) -->
<script type="text/javascript" 
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

    <!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<!-- end custom head snippets -->
  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <a class="site-title" href="http://localhost:4000/">MI Regression</a>
        <ul class="visible-links">
          
            
            <li class="masthead__menu-item"><a href="http://localhost:4000/year-archive/">Blog archive</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:4000/papers/">Projects & Papers</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:4000/about/">About</a></li>
          
        </ul>
        <button><div class="navicon"></div></button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

    



<div id="main" role="main">
  
  <div class="sidebar sticky">
  

<div itemscope itemtype="http://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="http://localhost:4000/images/mugshot2017.jpg" class="author__avatar" alt="Andreas Beger" itemprop="image">
      
    </div>
  

  <div class="author__content">
    <h3 class="author__name" itemprop="name">Andreas Beger</h3>
    
      <p class="author__bio" itemprop="description">
        Conflict forecasting, data science
      </p>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="http://schema.org/Place">
          <i class="fa fa-fw fa-map-marker" aria-hidden="true"></i> <span itemprop="name">Tallinn, Estonia</span>
        </li>
      

      

      
        <li>
          <a href="mailto:adbeger+mireg@gmail.com">
            <meta itemprop="email" content="adbeger+mireg@gmail.com" />
            <i class="fa fa-fw fa-envelope-square" aria-hidden="true"></i> Email
          </a>
        </li>
      

      

      
        <li>
          <a href="https://twitter.com/andybeega" itemprop="sameAs">
            <i class="fa fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter
          </a>
        </li>
      

      

      

      

      

      

      

      

      
        <li>
          <a href="https://github.com/andybega" itemprop="sameAs">
            <i class="fa fa-fw fa-github" aria-hidden="true"></i> GitHub
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs">
      <i class="fa fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Code for blank state panel data">
    <meta itemprop="description" content="The short version:">
    <meta itemprop="datePublished" content="December 11, 2013">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 class="page__title" itemprop="headline">Code for blank state panel data
</h1>
          
            <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 




  2 minute read
</p>
          
        </header>
      

      <section class="page__content" itemprop="text">
        <p><strong>The short version:</strong></p>

<p>Here is some <a href="https://github.com/andybega/R_utilities/blob/master/data/state-panel.r">R code</a> to create arbitrary country-year or country-month data sets reflecting the Gleditsch and Ward or COW state system membership lists, using the <a href="http://cran.r-project.org/web/packages/cshapes/index.html"><tt>cshapes</tt> R package</a>.</p>

<p><strong>The longer version:</strong></p>

<p>Anyone who has done some quantitative research in international relations probably has at some point dealt with creating accurate panel data for countries, or at least has heard the term “state system membership”. Basically, at any given point in time, there is some set of independent states in existence, and this set changes as you move through time. States disintegrate into successor states, or two states combine into a new state. To some extent there is standardization in international relations on this matter through the state system membership lists compiled by the <a href="http://www.correlatesofwar.org/COW2%20Data/SystemMembership/2011/System2011.html">Correlates of War</a> project or <a href="http://privatewww.essex.ac.uk/~ksg/statelist.html">Gleditsch and Ward</a>, and a lot of other datasets generated by political scientists adhere to these standards.</p>

<p>This is less so the case with other data sources. The <a href="https://pwt.sas.upenn.edu/">Penn World Tables</a> for example provided economic data for both West and East Germany at some point before the 1990 reunification. But if you look now you will find one Germany with a continuous series of data going back to the 50’s. So it seems that in more recent version they have merged the historically separate data to back-code a single German state. It’s probably understandable that economists or government agencies are not as concerned about state system membership as political scientists, but it makes it painful to create accurate datasets when you have to merge several sources together. And so as not to understate things, this usually turns into a tedious and mind-numbing process. Germany, Yugoslavia, Yemen anyone?</p>

<p>So to start with something I know is accurate I usually find myself creating a blank panel data set of the correct country-years or months, to which I then add on other data. To make this process a bit easier I finally got around to writing a function that automates this process, drawing on the <a href="http://cran.r-project.org/web/packages/cshapes/index.html"><tt>cshapes</tt> R package</a>, which provides shapefiles for any given point in time that accurately reflect state system membership.</p>

<p>How to run it, after you’ve copied the <a href="https://github.com/andybega/R_utilities/blob/master/data/state-panel.r">code from github</a>:</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">example1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">state_panel</span><span class="p">(</span><span class="s2">"2000"</span><span class="p">,</span><span class="w"> </span><span class="s2">"2010"</span><span class="p">,</span><span class="w"> </span><span class="n">by</span><span class="o">=</span><span class="s2">"year"</span><span class="p">)</span><span class="w">

</span><span class="n">head</span><span class="p">(</span><span class="n">example1</span><span class="p">[</span><span class="n">order</span><span class="p">(</span><span class="n">example1</span><span class="o">$</span><span class="n">ccode</span><span class="p">,</span><span class="w"> </span><span class="n">example1</span><span class="o">$</span><span class="n">date</span><span class="p">),</span><span class="w"> </span><span class="p">])</span><span class="w">
</span></code></pre>
</div>

<p>This will produce a warning saying that state system membership on June 30th of a year was used for the data, and the following result:</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">ccode</span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="n">date</span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="n">id</span><span class="w">

</span><span class="m">188</span><span class="w"> </span><span class="err"> </span><span class="m">2</span><span class="w"> </span><span class="m">2000-06-30</span><span class="w"> </span><span class="m">2000-06-30</span><span class="w"> </span><span class="m">2</span><span class="w">  
</span><span class="m">379</span><span class="w"> </span><span class="err"> </span><span class="m">2</span><span class="w"> </span><span class="m">2001-06-30</span><span class="w"> </span><span class="m">2001-06-30</span><span class="w"> </span><span class="m">2</span><span class="w">  
</span><span class="m">571</span><span class="w"> </span><span class="err"> </span><span class="m">2</span><span class="w"> </span><span class="m">2002-06-30</span><span class="w"> </span><span class="m">2002-06-30</span><span class="w"> </span><span class="m">2</span><span class="w">  
</span><span class="m">763</span><span class="w"> </span><span class="err"> </span><span class="m">2</span><span class="w"> </span><span class="m">2003-06-30</span><span class="w"> </span><span class="m">2003-06-30</span><span class="w"> </span><span class="m">2</span><span class="w">  
</span><span class="m">955</span><span class="w"> </span><span class="err"> </span><span class="m">2</span><span class="w"> </span><span class="m">2004-06-30</span><span class="w"> </span><span class="m">2004-06-30</span><span class="w"> </span><span class="m">2</span><span class="w">  
</span><span class="m">1147</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">2005-06-30</span><span class="w"> </span><span class="m">2005-06-30</span><span class="w"> </span><span class="m">2</span><span class="w">
</span></code></pre>
</div>

        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fa fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="http://localhost:4000/tags/#country-codes" class="page__taxonomy-item" rel="tag">country codes</a><span class="sep">, </span>
    
      
      
      <a href="http://localhost:4000/tags/#r" class="page__taxonomy-item" rel="tag">R</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fa fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="http://localhost:4000/categories/#programming" class="page__taxonomy-item" rel="tag">programming</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Updated:</strong> <time datetime="2013-12-11T06:26:20+02:00">December 11, 2013</time></p>
        
      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=Code+for+blank+state+panel+data%20http%3A%2F%2Flocalhost%3A4000%2F2013%2F12%2F11%2Fcode-for-blank-state-panel-data%2F" class="btn btn--twitter" title="Share on Twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2F2013%2F12%2F11%2Fcode-for-blank-state-panel-data%2F" class="btn btn--facebook" title="Share on Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://plus.google.com/share?url=http%3A%2F%2Flocalhost%3A4000%2F2013%2F12%2F11%2Fcode-for-blank-state-panel-data%2F" class="btn btn--google-plus" title="Share on Google Plus"><i class="fa fa-fw fa-google-plus" aria-hidden="true"></i><span> Google+</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2F2013%2F12%2F11%2Fcode-for-blank-state-panel-data%2F" class="btn btn--linkedin" title="Share on LinkedIn"><i class="fa fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="http://localhost:4000/2013/11/21/time-to-learn-python/" class="pagination--pager" title="Time to learn Python
">Previous</a>
    
    
      <a href="http://localhost:4000/2013/12/24/defense-doublethink/" class="pagination--pager" title="Defense doublethink
">Next</a>
    
  </nav>

    </div>

    
      <div class="page__comments">
  
    
        <h4 class="page__comments-title">Leave a Comment</h4>
        <section id="disqus_thread"></section>
      
</div>
    
  </article>

  
  
</div>


    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
    
    
      <li><a href="http://github.com/andybega"><i class="fa fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    
    <li><a href="http://localhost:4000/feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2017 Andreas Beger. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    <script src="http://localhost:4000/assets/js/main.min.js"></script>




  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-36796505-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>




  
      
  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = "http://localhost:4000/2013/12/11/code-for-blank-state-panel-data/";  // Replace PAGE_URL with your page's canonical URL variable
      this.page.identifier = "/2013/12/11/code-for-blank-state-panel-data"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    (function() { // DON'T EDIT BELOW THIS LINE
      var d = document, s = d.createElement('script');
      s.src = 'https://mireg.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


    



  </body>
</html>
