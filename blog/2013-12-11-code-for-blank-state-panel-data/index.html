<!DOCTYPE html>
<html lang="en-US">
    <head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">


<script async src="https://www.googletagmanager.com/gtag/js?id=G-MSM78VP45T"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-MSM78VP45T');
</script>


<title>Code for blank state panel data | Andreas Beger</title>
<meta property="og:title" content="Code for blank state panel data - Andreas Beger">








<link href='https://andybeger.com/favicon.ico' rel='icon' type='image/x-icon'/>


<link rel="stylesheet" type="text/css" href="/css/main.css">
</head>
    <body>
        <header><div class="header-container">
  <div class="title-container">
    <a href="/" class="title">
      <h1>Andreas Beger</h1>
    </a>
    <p>Data/political scientist</p>
  </div>
  <nav>
    <a href="/">Home</a> 
    
    <a href="/research/">Research</a> 
    
    
    <a href="/blog">Blog</a>
    
  </nav>
</div>

</header>
        <main>
    <article>
        <h1>Code for blank state panel data</h1>
        
        <p>
          <i>
            <time datetime='2013-12-11' pubdate>
              11 December 2013
            </time>
          </i>
          <br/>
          <i>Tags: 
            
            <a href="https://andybeger.com/tags/country-codes/">#country codes</a>
            
            <a href="https://andybeger.com/tags/r/">#R</a>
            
          </i>
        </p>
        
        <content>
          <blockquote>
<p><em>2018-02-28 update: check out the <a href="https://cran.r-project.org/package=states">states</a> package on CRAN. Create panel data for independent states, includes the G&amp;W and COW state lists, and some helper functions. Like <code>sfind(700)</code> to quickly check what country 700 is. Here&rsquo;s the <a href="https://andybeger.com/states/">package page</a>.</em></p>
</blockquote>
<p><strong>The short version:</strong></p>
<p>Here is some <a href="https://github.com/andybega/R_utilities/blob/master/data/state-panel.r">R code</a> to create arbitrary country-year or country-month data sets reflecting the Gleditsch and Ward or COW state system membership lists, using the <a href="http://cran.r-project.org/web/packages/cshapes/index.html"><!-- raw HTML omitted -->cshapes<!-- raw HTML omitted --> R package</a>.</p>
<p><strong>The longer version:</strong></p>
<p>Anyone who has done some quantitative research in international relations probably has at some point dealt with creating accurate panel data for countries, or at least has heard the term &ldquo;state system membership&rdquo;. Basically, at any given point in time, there is some set of independent states in existence, and this set changes as you move through time. States disintegrate into successor states, or two states combine into a new state. To some extent there is standardization in international relations on this matter through the state system membership lists compiled by the <a href="http://www.correlatesofwar.org/COW2%20Data/SystemMembership/2011/System2011.html">Correlates of War</a> project or <a href="http://privatewww.essex.ac.uk/~ksg/statelist.html">Gleditsch and Ward</a>, and a lot of other datasets generated by political scientists adhere to these standards.</p>
<p>This is less so the case with other data sources. The <a href="https://pwt.sas.upenn.edu/">Penn World Tables</a> for example provided economic data for both West and East Germany at some point before the 1990 reunification. But if you look now you will find one Germany with a continuous series of data going back to the 50&rsquo;s. So it seems that in more recent version they have merged the historically separate data to back-code a single German state. It&rsquo;s probably understandable that economists or government agencies are not as concerned about state system membership as political scientists, but it makes it painful to create accurate datasets when you have to merge several sources together. And so as not to understate things, this usually turns into a tedious and mind-numbing process. Germany, Yugoslavia, Yemen anyone?</p>
<p>So to start with something I know is accurate I usually find myself creating a blank panel data set of the correct country-years or months, to which I then add on other data. To make this process a bit easier I finally got around to writing a function that automates this process, drawing on the <a href="http://cran.r-project.org/web/packages/cshapes/index.html"><!-- raw HTML omitted -->cshapes<!-- raw HTML omitted --> R package</a>, which provides shapefiles for any given point in time that accurately reflect state system membership.</p>
<p>How to run it, after you&rsquo;ve copied the <a href="https://github.com/andybega/R_utilities/blob/master/data/state-panel.r">code from github</a>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>example1 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">state_panel</span>(<span style="color:#e6db74">&#34;2000&#34;</span>, <span style="color:#e6db74">&#34;2010&#34;</span>, by<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;year&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">head</span>(example1<span style="color:#a6e22e">[order</span>(example1<span style="color:#f92672">$</span>ccode, example1<span style="color:#f92672">$</span>date), ])
</span></span></code></pre></div><p>This will produce a warning saying that state system membership on June 30th of a year was used for the data, and the following result:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>ccode        date           id
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">188</span>  <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">2000-06-30</span> <span style="color:#ae81ff">2000-06-30</span> <span style="color:#ae81ff">2</span>  
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">379</span>  <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">2001-06-30</span> <span style="color:#ae81ff">2001-06-30</span> <span style="color:#ae81ff">2</span>  
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">571</span>  <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">2002-06-30</span> <span style="color:#ae81ff">2002-06-30</span> <span style="color:#ae81ff">2</span>  
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">763</span>  <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">2003-06-30</span> <span style="color:#ae81ff">2003-06-30</span> <span style="color:#ae81ff">2</span>  
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">955</span>  <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">2004-06-30</span> <span style="color:#ae81ff">2004-06-30</span> <span style="color:#ae81ff">2</span>  
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1147</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">2005-06-30</span> <span style="color:#ae81ff">2005-06-30</span> <span style="color:#ae81ff">2</span>
</span></span></code></pre></div>
        </content>
    </article>

        </main>
        <footer>
<div class="footer-container">
    <div><a href="mailto:adbeger&#43;mireg@gmail.com" rel="me" title="Email">Email</a> &nbsp;|&nbsp;<a href="https://twitter.com/andybeega" rel="me" title="Twitter">Twitter</a> &nbsp;|&nbsp;<a href="https://github.com/andybega" rel="me" title="GitHub">GitHub</a> &nbsp;|&nbsp;</div>
    <div>2023 © Andreas Beger</div>&nbsp;|&nbsp;
    <div>Built with <a href="https://gohugo.io">Hugo</a></div>
</div>


 

</footer>
    </body>
</html>
