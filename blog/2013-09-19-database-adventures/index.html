<!DOCTYPE html>
<html lang="en-US">
    <head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">


<script async src="https://www.googletagmanager.com/gtag/js?id=G-MSM78VP45T"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-MSM78VP45T');
</script>


<title>Database adventures | Andreas Beger</title>
<meta property="og:title" content="Database adventures - Andreas Beger">








<link href='https://andybeger.com/favicon.ico' rel='icon' type='image/x-icon'/>


<link rel="stylesheet" type="text/css" href="/css/main.css">
</head>
    <body>
        <header><div class="header-container">
  <div class="title-container">
    <a href="/" class="title">
      <h1>Andreas Beger</h1>
    </a>
    <p>Data scientist</p>
  </div>
  <nav>
    <a href="/">Home</a> 
    
    <a href="/research/">Research</a> 
    
    
    <a href="/blog">Blog</a>
    
  </nav>
</div>

</header>
        <main>
    <article>
        <h1>Database adventures</h1>
        
        <p>
          <i>
            <time datetime='2013-09-19' pubdate>
              19 September 2013
            </time>
          </i>
          <br/>
          <i>Tags: 
            
            <a href="https://andybeger.com/tags/afghanistan/">#Afghanistan</a>
            
            <a href="https://andybeger.com/tags/database/">#Database</a>
            
            <a href="https://andybeger.com/tags/postgis/">#PostGIS</a>
            
            <a href="https://andybeger.com/tags/r/">#R</a>
            
            <a href="https://andybeger.com/tags/sql/">#SQL</a>
            
          </i>
        </p>
        
        <content>
          <p>Recently I&rsquo;ve set up both a PostgreSQL and MySQL server to host databases related to some of our projects in the <a href="http://mdwardlab.com/">Ward Lab</a>. I should note that I have no idea what I&rsquo;m doing, and this is the first time I&rsquo;ve dealt with databases and how to get them working. It&rsquo;s been a very humbling experience, although in the end, we now have two different databases that can be accessed remotely from a laptop through R or other tools like <a href="http://www.qgis.org/">Quantum GIS</a>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#75715e"># setup connection to database  </span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(rgdal)  
</span></span><span style="display:flex;"><span>dsn <span style="color:#f92672">&lt;-</span> <span style="color:#e6db74">&#34;PG: dbname=&#39;db&#39; host=&#39;someIP&#39; port=&#39;5432&#39; user=&#39;me&#39; password=&#39;guest&#39;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Load Afghanistan boundary (source: GADM)  </span>
</span></span><span style="display:flex;"><span>state <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">readOGR</span>(dsn, layer<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;afg_adm0&#34;</span>)  
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">plot</span>(state)  
</span></span></code></pre></div><p><a href="/img/2013/afg.png"><img src="/img/2013/afg.png" alt="Afghanistan"></a></p>
<p>It all started in the beginning of this summer, when we needed a spatial database to support several GB worth of data related to a forecasting project with, surprise, a heavy spatial component. <a href="http://www.postgresql.org/">PostgreSQL</a>, an open source database system, in conjunction with the <a href="http://postgis.net/">PostGIS</a> extension, provides a database that can store that amount of data, supports spatial data types like polygon and raster data, and provides a useful number of related functions. With it you can do things like finding intersections between roads (lines), subsetting a gigantic raster dataset covering the entire Earth to just one country, and more.</p>
<p>Long story short, without any background knowledge, getting everything working was a really long and frustrating process that lasted several weeks. With the benefit of hindsight, I&rsquo;ve written up some documentation on our <a href="http://mdwardlab.com/wiki/index.php?title=Main_Page">Lab wiki</a> on how to <a href="http://mdwardlab.com/wiki/index.php?title=C-IED_server_install_and_admin">setup a PostGIS server on a Mac</a> and configure it for remote access, as well as how to <a href="http://mdwardlab.com/wiki/index.php?title=C-IED_how_to_get_started">get started guide for users</a>. Obviously that is all written with our projects in mind, and pretty rough still, but maybe it&rsquo;s helpful if you&rsquo;re doing this for the first time like I did.</p>
<p>One final comment: yesterday I went through a similar process to set up a MySQL database with remote access through R. It took about 2 hours from start to finish, much of which was spent on adding data. Some of that difference in time is hopefully because I&rsquo;m a little bit more familiar with databases now, but MySQL does seem to be a bit easier to get going than PostgreSQL.</p>

        </content>
    </article>

        </main>
        <footer>
<div class="footer-container">
    <div><a href="mailto:adbeger&#43;mireg@gmail.com" rel="me" title="Email">Email</a> &nbsp;|&nbsp;<a href="https://bsky.app/profile/andybeger.bsky.social" rel="me" title="Bluesky">Bluesky</a> &nbsp;|&nbsp;<a href="https://github.com/andybega" rel="me" title="GitHub">GitHub</a> &nbsp;|&nbsp;</div>
    <div>2024 © Andreas Beger</div>&nbsp;|&nbsp;
    <div>Built with <a href="https://gohugo.io">Hugo</a></div>
</div>


 

</footer>
    </body>
</html>
