<!DOCTYPE html>
<html lang="en-US">
    <head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">


<script async src="https://www.googletagmanager.com/gtag/js?id=G-MSM78VP45T"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-MSM78VP45T');
</script>


<title>3d surface plots of GDP vs. event data | Andreas Beger</title>
<meta property="og:title" content="3d surface plots of GDP vs. event data - Andreas Beger">








<link href='https://andybeger.com/favicon.ico' rel='icon' type='image/x-icon'/>


<link rel="stylesheet" type="text/css" href="/css/main.css">
</head>
    <body>
        <header><div class="header-container">
  <div class="title-container">
    <a href="/" class="title">
      <h1>Andreas Beger</h1>
    </a>
    <p>Data scientist</p>
  </div>
  <nav>
    <a href="/">Home</a> 
    
    <a href="/research/">Research</a> 
    
    
    <a href="/blog">Blog</a>
    
  </nav>
</div>

</header>
        <main>
    <article>
        <h1>3d surface plots of GDP vs. event data</h1>
        
        <p>
          <i>
            <time datetime='2016-03-03' pubdate>
              3 March 2016
            </time>
          </i>
          <br/>
          <i>Tags: 
            
            <a href="https://andybeger.com/tags/visualization/">#Visualization</a>
            
          </i>
        </p>
        
        <content>
          <p>A while ago I <!-- raw HTML omitted -->wrote a post<!-- raw HTML omitted --> about how the patterns by which data for cross-national datasets observed over multiple periods, e.g. with country-year or country-month observations, vary is important for modeling and prediction. Here is another way to visualize why this is the case using 3-d surface plots made with <!-- raw HTML omitted -->Plotly<!-- raw HTML omitted -->.</p>
<p><a href="/img/2016/gdp-logged.png"><img src="/img/2016/gdp-logged.png" alt="3d surface plot of logged GDP per capita"></a></p>
<p>The plot shows logged GDP per capita for &gt;150 countries from 1995 to 2013. This is about the time period we cover in our data for <!-- raw HTML omitted -->forecasting irregular leadership changes<!-- raw HTML omitted -->. Countries are sorted by GDP for the last year with data, which is why the near edge of the plot is smoother than the far end. It&rsquo;s obvious that there are some changes within countries and at rates that differ from other countries, but still most of the variation is between countries.</p>
<p>The differences are much larger at the high end when we look at the raw, unlogged GDP data:</p>
<p><a href="/img/2016/gdp-raw.png"><img src="/img/2016/gdp-raw.png" alt="3d surface plot of raw GDP per capita"></a></p>
<p>Yes, there are differences within countries and this is clearer to see with the unlogged data, but overall the surface is pretty flat over the time dimension and sloping or curving over the list of countries on the <!-- raw HTML omitted -->y<!-- raw HTML omitted --> dimension.</p>
<p>The reason why variation on one (spatial) or the other (temporal) dimension is important, as I argued in the other post, is that to predict dynamic outcomes like civil war onset, or irregular leadership changes in our case, temporally varying variables are absolutely necessary. Not sufficient by default, but neccessary. Data like GDP, similar structural indicators, and more generally time-invariant or largely invariant variables cannot possibly predict the timing of events.</p>
<p>Now compare the two plots above to what anti-government protests look like:</p>
<p><a href="/img/2016/protest-count.png"><img src="/img/2016/protest-count.png" alt="3d surface plot of protest counts"></a></p>
<p>That&rsquo;s essentially the same set of countries, and over the same time period, but using monthly rather than annual observations. I also flipped the <!-- raw HTML omitted -->x<!-- raw HTML omitted --> and <!-- raw HTML omitted -->y<!-- raw HTML omitted --> axes, but that hardly matters, it&rsquo;s spiky either way. The data come from the <!-- raw HTML omitted -->replication data for the Research &amp; Politics article I linked above<!-- raw HTML omitted -->, and consist of counts of anti-government protests events in the ICEWS event data. There is more variation over time, and although there are countries with higher mean levels of protests, it&rsquo;s not as pronounced a pattern as it was with GDP. This is the kind of thing that might help pin the timing of events down.</p>
<p>No discussion of event data should probably fail to mention that media-based event data are subject to important biases and irregularities, and that these are crucial for attempts at causal inference. They are not fundamentally a threat to use in prediction sans explanation though.</p>
<p>Creating the plots was pretty easy. There is a <!-- raw HTML omitted -->plotly<!-- raw HTML omitted --> R library that allows you to send <!-- raw HTML omitted -->ggplot2<!-- raw HTML omitted --> objects to their website, where a bit of clicking and rotating will turn them into interactive 3-d surface plots. Although it seems to not handle missing and ragged&ndash;think countries entering at various points in the 60&rsquo;s or 90&rsquo;s&ndash;data very well, it&rsquo;s a bit more intuitive than looking at summary means and variances, which in any case might obscure differences like these in the kind of structured data commonly used in IR (country/province/grid cell&ndash;year/month)</p>
<p><!-- raw HTML omitted -->Replication code (3d-var-viz)<!-- raw HTML omitted -->.</p>
<p>Interactive plots:</p>
<!-- raw HTML omitted -->
        </content>
    </article>

        </main>
        <footer>
<div class="footer-container">
    <div><a href="mailto:adbeger&#43;mireg@gmail.com" rel="me" title="Email">Email</a> &nbsp;|&nbsp;<a href="https://twitter.com/andybeega" rel="me" title="Twitter">Twitter</a> &nbsp;|&nbsp;<a href="https://github.com/andybega" rel="me" title="GitHub">GitHub</a> &nbsp;|&nbsp;</div>
    <div>2024 Â© Andreas Beger</div>&nbsp;|&nbsp;
    <div>Built with <a href="https://gohugo.io">Hugo</a></div>
</div>


 

</footer>
    </body>
</html>
